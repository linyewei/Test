<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>返回顶部</title>
<style type="text/css">
*{margin:0px;padding:0px;font-family:"微软雅黑", Arial, Helvetica, sans-serif;font-size: 16px;}
#main{width:969px; margin:0 auto;background: #dedede;}
#gototop{background:#A0A0A0;width:54px; height:54px; position: fixed;right: 25px; bottom:45px; z-index:105;padding:3px;text-align:center; line-height: 54px; cursor: pointer;color: #fff; display: none;}
#gototop:hover{background:#00b38a;}
</style>
</head>
<body>
<div id="main"><img src="images/template.jpg"></div>
<div id="gototop">TOP</div>
</body>

<script type="text/javascript">
var gototop=document.getElementById("gototop");
var clientH=document.documentElement.clientHeight|| document.body.clientHeight;
var timer=null;
var isTop=true;

gototop.onclick=function(){
	timer=setInterval(function(){	
		var scrolltop = document.documentElement.scrollTop || document.body.scrollTop;
		var ispeed=Math.floor(-scrolltop/6)
		document.documentElement.scrollTop = document.body.scrollTop =scrolltop+ispeed;
		console.log(scrolltop-ispeed);

		if(scrolltop==0){//如果已经滚到顶则清除定时器
			clearInterval(timer);
		}

		isTop=true;

	},30);
	
	
}

window.onscroll=function(){
	var scrolltop = document.documentElement.scrollTop || document.body.scrollTop;
	if(scrolltop>200){
		gototop.style.display="block";
	}else{
		gototop.style.display="none";
	};

	if(!isTop){	//滚动时触发
		clearInterval(timer);
	};

	isTop=false;
}
</script>
</html>